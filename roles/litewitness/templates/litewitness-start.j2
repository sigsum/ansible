#!/bin/bash

#
# Managed by ansible -- do not edit.
#
{% set args = [] %}
{% set _ = args.append('-db=' ~ litewitness_database_file) %}
{% set _ = args.append('-name=' ~ litewitness_name) %}
{% set _ = args.append('-key=' ~ litewitness_keygrip) %}
{% set _ = args.append('-ssh-agent=' ~ litewitness_sigsum_agent_socket) %}
{% if litewitness_bastion_endpoint != "" %}
{% set _ = args.append('-bastion=' ~ litewitness_bastion_endpoint) %}
{% elif litewitness_listen_endpoint != "" %}
{% set _ = args.append('-listen=' ~ litewitness_listen_endpoint) %}
{% else %}
{% set _ = args.append('-no-listen') %}
{% endif %}
{% if litewitness_obscurity_mode %}
{% set _ = args.append('-obscurity') %}
{% endif %}

exec ~/go/bin/litewitness \
    {{ args | join(' \\\n    ') }}
